
CREATE DATABASE IF NOT EXISTS `FACULTYTEST`;
USE `FACULTYTEST`;

CREATE TABLE `acc` (
	`id` INT(11) NOT NULL AUTO_INCREMENT,
	`FirstName` VARCHAR(50) NOT NULL DEFAULT '0',
	`LastName` VARCHAR(50) NOT NULL DEFAULT '0',
	`Login` VARCHAR(50) NOT NULL DEFAULT '0',
	`Password` VARCHAR(50) NOT NULL DEFAULT '0',
	`RoleID` INT(11) NULL DEFAULT NULL,
	PRIMARY KEY (`id`),
	INDEX `FK_user_roles` (`RoleID`),
	CONSTRAINT `FK_user_roles` FOREIGN KEY (`RoleID`) REFERENCES `roles` (`id`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=6
;

CREATE TABLE `course` (
	`id` INT(11) NOT NULL AUTO_INCREMENT,
	`Name` VARCHAR(50) NULL DEFAULT NULL,
	`UserID` INT(11) NULL DEFAULT NULL,
	`CourseDescription` VARCHAR(50) NULL DEFAULT NULL,
	`Status` VARCHAR(50) NULL DEFAULT NULL,
	PRIMARY KEY (`id`),
	UNIQUE INDEX `Name` (`Name`),
	INDEX `FK_course_user` (`UserID`),
	CONSTRAINT `FK_course_user` FOREIGN KEY (`UserID`) REFERENCES `acc` (`id`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=6
;


CREATE TABLE `roles` (
	`id` INT(11) NOT NULL,
	`RolesName` ENUM('ADMIN','STUDENT') NULL DEFAULT NULL,
	PRIMARY KEY (`id`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
;


CREATE TABLE `sheetlist` (
	`id` INT(11) NOT NULL AUTO_INCREMENT,
	`UserID` INT(11) NULL DEFAULT NULL,
	`CourseID` INT(11) NULL DEFAULT NULL,
	`Score` INT(11) NULL DEFAULT NULL,
	`ShortComment` VARCHAR(50) NULL DEFAULT NULL,
	PRIMARY KEY (`id`),
	INDEX `FK_sheetlist_user` (`UserID`),
	INDEX `FK_sheetlist_course` (`CourseID`),
	CONSTRAINT `FK_sheetlist_course` FOREIGN KEY (`CourseID`) REFERENCES `course` (`id`),
	CONSTRAINT `FK_sheetlist_user` FOREIGN KEY (`UserID`) REFERENCES `acc` (`id`)
)
COLLATE='utf8_general_ci'
ENGINE=InnoDB
AUTO_INCREMENT=6
;
